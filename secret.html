<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <style>
        body {
            background-color: #111;
        }

        canvas {
            height: 100%;
            left: 0;
            position: absolute;
            top: 0;
            width: 100%;
        }
    </style>
    <link rel="stylesheet" href="css/tree.css">
    <link rel="stylesheet" href="css/lightrope.css">
    <link rel="stylesheet" href="css/sprinkles.css">
    <link rel="stylesheet" href="css/popup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>

<body>
    <ul class="lightrope">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <div id="christmas">
        <div class="container" id="christmastree">
            <div class="star"></div>
            <div class="pressie">
                <div class="cover"></div>
                <div class="wrap"> </div>
                <div class="ribbon"></div>
            </div>
            <div class="tree">
                <div class="base"> </div>
                <div class="layer">
                    <div class="tree-line"> </div>
                    <div class="bauble one"></div>
                </div>

                <div class="layer two">
                    <div class="tree-line two"> </div>
                    <div class="bauble two"></div>
                    <div class="socks">
                        <div class="top"> </div>
                        <div class="foot"></div>
                    </div>
                </div>

                <div class="layer three">
                    <div class="tree-line three"> </div>
                    <div class="bauble three"></div>
                    <div class="socks two">
                        <div class="top"> </div>
                        <div class="foot two"></div>
                    </div>
                </div>
            </div>

            <div class="layer four">
                <div class="bauble four"></div>
                <div class="star two"></div>
                <div class="tree-line four"> </div>
            </div>
            <a id="modalbutton" class="button" href="#popup">Lass die Spiele beginnen :)</a>
        </div>
    </div>

    <div class="popup" id="popup">
        <div class="popup-inner">
            <div class="popup__photo">
                <img src="https://images.unsplash.com/photo-1515224526905-51c7d77c7bb8?ixlib=rb-0.3.5&s=9980646201037d28700d826b1bd096c4&auto=format&fit=crop&w=700&q=80"
                    alt="">
            </div>
            <div class="popup__text">
                <div class="popup__text__site">
                    <div id="site-1" class="wizard-page">
                    </div>
                    <div id="site-2" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-3" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-4" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-5" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-6" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-7" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-8" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-9" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-10" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-11" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-12" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-13" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-14" class="wizard-page" style="display:none">
                    </div>
                    <div id="site-15" class="wizard-page" style="display:none">
                    </div>
                </div>
                <div class="popup__button">
                    <button class="button" id="button-next">Weiter</button>
                </div>
            </div>
            <a class="popup__close" href="#">X</a>
        </div>

    </div>
    <canvas></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="js/sprinkles.js"></script>
    <script src="js/snowflakes.js"></script>

    <script>
        var obj = {};
        obj[3] = {};
        obj[3]["Solution"] = "Erding"
        obj[3]["Description"] = "Erding";
        obj[4] = {};
        obj[4]["Solution"] = "Parndorf"
        obj[4]["Description"] = "Parndorf";
        obj[5] = {};
        obj[5]["Solution"] = "shoot"
        obj[5]["Description"] = "Paarshooting";
        obj[6] = {};
        obj[6]["Solution"] = "Konzert"
        obj[6]["Description"] = "Konzert";
        obj[7] = {};
        obj[7]["Solution"] = "park"
        obj[7]["Description"] = "Erlebnispark";
        obj[8] = {};
        obj[8]["Solution"] = "down"
        obj[8]["Description"] = "Downhillbiking";
        obj[9] = {};
        obj[9]["Solution"] = "tauch"
        obj[9]["Description"] = "Tauchkurs";
        obj[10] = {};
        obj[10]["Solution"] = "kletter"
        obj[10]["Description"] = "Klettern";
        obj[11] = {};
        obj[11]["Solution"] = "sonn"
        obj[11]["Description"] = "Sonnblick";
        obj[12] = {};
        obj[12]["Solution"] = "paint"
        obj[12]["Description"] = "Paintball";
        obj[13] = {};
        obj[13]["Solution"] = "Laser"
        obj[13]["Description"] = "Lasertag";
        obj[14] = {};
        obj[14]["Solution"] = "Kart";
        obj[14]["Description"] = "Go-Kart";

        var currentSite = 1;
        var memRightLetters = 0;
        $('.container').on('mouseover', function () {
            $('.bauble').addClass('light');
            $('.star').addClass('star-light');
        })

        $('.container').on('mouseout', function () {
            $('.bauble').removeClass('light');
        })

        for (var i = 1; i < 16; i++) {
            $.get("sites/site-" + i + ".html", function (data, textStatus, jqXHR) {
                var siteId = $(this)[0].url.replace("sites/", "").replace(".html", "");
                $("#" + siteId).html(data);
            });
        }

        $("#modalbutton").on('click', function () {
            $("#site-" + currentSite).hide();
            currentSite = 1;
            $("#site-" + currentSite).fadeIn(100);
        });

        $("#button-next").on('click', function () {
            if (currentSite == 14) {
                $(".popup__button").hide();
            }

            if (currentSite < 3 || currentSite > 14) {
                $("#site-" + currentSite).fadeOut(100, function () {
                    currentSite = currentSite + 1;
                    $("#site-" + currentSite).fadeIn(100);
                });
            }
            else {
                var solution = prompt("Worum handelt es sich bei Erlebnis " + (currentSite - 2) + "?", "");
                console.log("Solution:", solution)
                if ((window.location.hostname.indexOf("localhost") > -1) || (solution.toUpperCase().indexOf(obj[currentSite]["Solution"].toUpperCase()) > -1)) {
                    toastr.success("Alles klar :) die LÃ¶sung ist: " + obj[currentSite]["Description"]);
                    $("#site-" + currentSite).fadeOut(500, function () {
                        currentSite = currentSite + 1;
                        $("#site-" + currentSite).fadeIn(500);
                    });
                }
                else {
                    toastr.error("Oh nein. Das war leider falsch :/. Probiers einfach noch einmal.");
                }
            }
        });
    </script>
</body>

</html>